# API Ù…Ø³ØªÙ†Ø¯ ØªØ¨Ø¯ÛŒÙ„ Ù…ØªÙ† Ø¨Ù‡ Ú¯ÙØªØ§Ø± (TTS-V2)

Ù…Ø¯Ù„ TTS-V2 Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ùˆ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ù‡ Ú¯ÙØªØ§Ø± Ø·Ø¨ÛŒØ¹ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.  
Ø¯Ø± Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† **Voice Reference** Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ø¯Ù„ ØµØ¯Ø§ÛŒ Ø®ÙˆØ¯ Ø´Ù…Ø§ Ø±Ø§ ØªÙ‚Ù„ÛŒØ¯ Ú©Ù†Ø¯.  
Ø§Ú¯Ø± ÙØ§ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´ÙˆØ¯ØŒ Ù…Ø¯Ù„ Ø§Ø² ØµØ¯Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## ğŸ§ª Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª

**POST multipart/form-data**

---

## ğŸ” Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª

Ø¯Ø± Ù‡Ø¯Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:


---

## ğŸ“¥ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯
| Ù†Ø§Ù… ÙÛŒÙ„Ø¯ | ØªÙˆØ¶ÛŒØ­ | ÙˆØ¶Ø¹ÛŒØª <table style="width:100%; background-color: #f4f4f4; border: 1px solid #ddd; border-collapse: collapse;">
  <thead>
    <tr>
      <th style="background-color: #2c3e50; color: white; padding: 10px;">Ù†Ø§Ù… ÙÛŒÙ„Ø¯</th>
      <th style="background-color: #2c3e50; color: white; padding: 10px;">ØªÙˆØ¶ÛŒØ­</th>
      <th style="background-color: #2c3e50; color: white; padding: 10px;">ÙˆØ¶Ø¹ÛŒØª</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">text</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ù…ØªÙ† ÙˆØ±ÙˆØ¯ÛŒ</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø¬Ø¨Ø§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">VoiceReference</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ Ø±ÙØ±Ù†Ø³ (mp3, wav, ogg, m4a)</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">Preset</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ù†ÙˆØ¹ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØµØ¯Ø§</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø¬Ø¨Ø§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">Exaggeration</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø´Ø¯Øª Ø¨ÛŒØ§Ù†</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">CfgWeight</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">ÙˆØ²Ù† CFG</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">Temperature</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø¯Ù…Ø§ÛŒ Ù…Ø¯Ù„</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">RepetitionPenalty</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ØªÚ©Ø±Ø§Ø±</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">MinP</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø­Ø¯Ø§Ù‚Ù„ Ø§Ø­ØªÙ…Ø§Ù„</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
    <tr>
      <td style="background-color: #34495e; color: white; padding: 8px;">TopP</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ú©Ù†ØªØ±Ù„ sampling</td>
      <td style="background-color: #34495e; color: white; padding: 8px;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</td>
    </tr>
  </tbody>
</table>
Preset

- `1` â†’ Custom  
- `2` â†’ News  
- `3` â†’ Story  
- `4` â†’ Neutral  

Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø± `Preset = Custom` Ø¨Ø§Ø´Ø¯ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ… ØµØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆÙ†Ø¯.

---

# ğŸŒ€ Ù†Ù…ÙˆÙ†Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª cURL (Ø¯Ø±Ø³Øª Ùˆ ØªÙ…ÛŒØ² + Ú©Ø§Ù…Ù†Øª Ø¯Ø§Ø®Ù„ÛŒ)

```bash
curl --request POST \
  --url 'https://stage.service.alavan.co.ir/api/v1/Model/tts_v2' \
  --header 'Authorization: Bearer  ØªÙˆÚ©Ù† Ø¯Ø±ÛŒØ§ÙØªÛŒ Ø§Ø² Ù¾Ø±ØªØ§Ù„ Ø¢Ù„Ø§ÙˆØ§Ù†' \
  --header 'Content-Type: multipart/form-data' \
  --form 'text=Ù…ØªÙ† ØªØ³Øª' \
  --form 'VoiceReference=@/path/to/voice-reference.mp3' \
  --form 'Preset=news' \
  --form 'Exaggeration=0.5' \
  --form 'CfgWeight=1.2' \
  --form 'Temperature=0.8' \
  --form 'RepetitionPenalty=1.1' \
  --form 'MinP=0.05' \
  --form 'TopP=0.9'

# VoiceReference: nullable - allowed: .wav .mp3 .ogg .m4a
# Preset values: Custom=1, News=2, Story=3, Neutral=4
# Other params are nullable

```


```python
import requests

url = "https://stage.service.alavan.co.ir/api/v1/Model/tts_v2"

headers = {
    "Authorization": "Bearer ØªÙˆÚ©Ù† Ø¯Ø±ÛŒØ§ÙØªÛŒ Ø§Ø² Ù¾Ø±ØªØ§Ù„ Ø¢Ù„Ø§ÙˆØ§Ù†"
}

data = {
    "text": "Ù…ØªÙ† ØªØ³Øª",
    "Preset": "news",
    "Exaggeration": 0.5,
    "CfgWeight": 1.2,
    "Temperature": 0.8,
    "RepetitionPenalty": 1.1,
    "MinP": 0.05,
    "TopP": 0.9,
}

files = {
    "VoiceReference": open("voice-reference.mp3", "rb")  # optional
}

response = requests.post(url, headers=headers, data=data, files=files)

print(response.status_code)
print(response.text)

```

```javascript
const url = "https://stage.service.alavan.co.ir/api/v1/Model/tts_v2";

async function callTtsApi(voiceFile) {
  const formData = new FormData();

  formData.append("text", "Ù…ØªÙ† ØªØ³Øª");
  formData.append("Preset", "news");
  formData.append("Exaggeration", "0.5");
  formData.append("CfgWeight", "1.2");
  formData.append("Temperature", "0.8");
  formData.append("RepetitionPenalty", "1.1");
  formData.append("MinP", "0.05");
  formData.append("TopP", "0.9");

  if (voiceFile) {
    formData.append("VoiceReference", voiceFile);
  }

  const response = await fetch(url, {
    method: "POST",
    headers: {
      "Authorization": "Bearer <TOKEN_FROM_ALAVAN_PORTAL>"
      // Content-Type Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù†Ú©Ù†ÛŒØ¯ØŒ Ù…Ø±ÙˆØ±Ú¯Ø± Ø®ÙˆØ¯Ø´ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    },
    body: formData
  });

  const data = await response.json();
  console.log("TTS Response:", data);

  if (data.url) {
    new Audio(data.url).play();
  }
}
```
